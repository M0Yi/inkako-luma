{% extends "layout/page.html" %}

{% block title %}用户未找到 - 404{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="card-glass border-2 border-red-200">
        <div class="bg-gradient-to-r from-red-500 to-red-600 text-white text-center px-8 py-12 rounded-t-2xl">
            <i class="fas fa-user-slash text-6xl mb-6"></i>
            <h2 class="text-3xl font-bold mb-2">用户未找到</h2>
            <p class="opacity-90">404 - User Not Found</p>
        </div>
        <div class="text-center p-8">
                <div class="alert alert-warning" role="alert">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    抱歉，用户 ID <strong>#{{ userId }}</strong> 不存在
                </div>

                <div class="mb-4">
                    <h5 class="text-muted">可能的原因：</h5>
                    <ul class="list-unstyled text-start mt-3">
                        <li class="mb-2">
                            <i class="fas fa-times-circle text-danger me-2"></i>
                            用户ID不正确
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-times-circle text-danger me-2"></i>
                            用户可能已被删除
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-times-circle text-danger me-2"></i>
                            权限不足无法访问
                        </li>
                    </ul>
                </div>

                <!-- 建议的用户ID -->
                <div class="card bg-light mb-4">
                    <div class="card-body">
                        <h6 class="card-title text-primary">
                            <i class="fas fa-lightbulb me-1"></i>试试这些用户
                        </h6>
                        <div class="d-flex justify-content-center gap-2 flex-wrap">
                            <a href="/demo/user/1" class="btn btn-outline-primary btn-sm">
                                <i class="fas fa-user me-1"></i>用户 #1
                            </a>
                            <a href="/demo/user/2" class="btn btn-outline-success btn-sm">
                                <i class="fas fa-user me-1"></i>用户 #2
                            </a>
                            <a href="/demo/user/3" class="btn btn-outline-info btn-sm">
                                <i class="fas fa-user me-1"></i>用户 #3
                            </a>
                        </div>
                    </div>
                </div>

                <!-- 主要操作按钮 -->
                <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                    <a href="/demo" class="btn btn-primary btn-lg">
                        <i class="fas fa-home me-1"></i>返回首页
                    </a>
                    <a href="javascript:history.back()" class="btn btn-outline-secondary btn-lg">
                        <i class="fas fa-arrow-left me-1"></i>返回上一页
                    </a>
                </div>
            </div>
        </div>

        <!-- Twig 错误处理演示 -->
        <div class="card mt-4 border-info">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0">
                    <i class="fas fa-code me-2"></i>Twig 错误处理演示
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6 class="text-primary">条件判断</h6>
                        <div class="ms-3">
                            <p class="mb-2">
                                <strong>用户ID类型:</strong>
                                {% if userId is same as(userId|number_format) %}
                                    <span class="badge bg-success">数字</span>
                                {% else %}
                                    <span class="badge bg-warning">非数字</span>
                                {% endif %}
                            </p>
                            <p class="mb-2">
                                <strong>ID范围检查:</strong>
                                {% if userId > 0 and userId < 100 %}
                                    <span class="badge bg-info">有效范围</span>
                                {% else %}
                                    <span class="badge bg-secondary">超出范围</span>
                                {% endif %}
                            </p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h6 class="text-success">模板特性</h6>
                        <div class="ms-3">
                            <ul class="list-unstyled">
                                <li class="mb-1">✅ 优雅错误处理</li>
                                <li class="mb-1">✅ 条件渲染</li>
                                <li class="mb-1">✅ 数据验证</li>
                                <li class="mb-1">✅ 用户体验优化</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 调试信息 -->
                <div class="mt-3 p-3 bg-light border-start border-3 border-warning">
                    <h6 class="text-warning mb-2">
                        <i class="fas fa-bug me-1"></i>调试信息
                    </h6>
                    <div class="small text-muted">
                        <strong>请求的用户ID:</strong> {{ userId }}<br>
                        <strong>数据类型:</strong> {{ userId is same as(userId|number_format) ? '数字' : '字符串' }}<br>
                        <strong>当前时间:</strong> {{ "now"|date("Y-m-d H:i:s") }}<br>
                        <strong>模板文件:</strong> demo/404.html
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 添加一个简单的错误页面动画
    const errorIcon = document.querySelector('.fa-user-slash');
    if (errorIcon) {
        errorIcon.style.animation = 'shake 0.5s ease-in-out';
    }

    // 自动聚焦到返回首页按钮
    const homeButton = document.querySelector('a[href="/demo"]');
    if (homeButton) {
        homeButton.focus();
    }
});
</script>
<style>
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}
</style>
{% endblock %}
{% endblock %}
